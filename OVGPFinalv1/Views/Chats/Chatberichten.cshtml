@model IEnumerable<OVGPFinalv1.Models.Chat>
@{
    ViewData["Title"] = "Vastgezetteberichten";
}

<h3>Belangrijke chatberichten</h3>

@{int i = 0;}
<div class="accordion md-accordion accordion-1" id="accordionEx23" role="tablist">
    @foreach (var item in Model)
    {
        @if (item.ChatImportant == true)
        {
            <div class="card">
                <a class="white-text font-weight-bold" data-toggle="collapse" href="#collapse_@i" aria-expanded="true"
                   aria-controls="collapse_@i">
                    <div class="card-header blue lighten-3 z-depth-1" role="tab" id="heading_@i">
                        <i class="fas fa-user fa-2x float-left black-text" aria-hidden="true" style="margin-right:20px"></i>
                        <h4>@Html.DisplayFor(modelItem => item.PersonName)</h4>
                    </div>
                </a>
                <div id="collapse_@i" class="collapse" role="tabpanel" aria-labelledby="heading_@i"
                     data-parent="#accordionEx23">
                    <div class="card-body">
                        <div class="row my-4">
                            <div class="col-md-8 test">
                                <p><strong>Geplaatst op: </strong>@Html.DisplayFor(modelItem => item.Posted)</p>
                                <p> @Html.DisplayFor(modelItem => item.Text)</p>
                                @if (User.IsInRole("Beheerder"))
                                {
                                    <form>
                                        <button class="btn btn-grey m-right btn-sm" style="margin-top: 4px;" asp-action="Details" asp-route-id="@item.ChatId">Details</button>
                                        <button class="btn btn-grey m-right btn-sm" style="margin-top: 4px;" asp-action="delete" asp-route-id="@item.ChatId">Delete</button>
                                    </form>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            i++;
        }
    }
</div>